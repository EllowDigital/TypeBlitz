function isPhone(){return window.innerWidth<=600}function getGreeting(){let e=new Date().getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"}function setBackgroundImage(){let e=document.getElementById("backgroundImageContainer");if(!e)return;let t=isPhone()?["assets/images/img/bg1.webp","assets/images/img/bg2.webp"]:["assets/images/img/bg2.webp","assets/images/img/bg1.webp"],n=0;function r(){e.style.backgroundImage=`url('${t[n]}')`,n=(n+1)%t.length}r(),setInterval(r,8e3)}function setupNavbarToggle(){let e=document.querySelector(".navbar-toggler"),t=document.querySelector(".navbar-collapse");e&&t&&(e.addEventListener("click",()=>{t.classList.toggle("show")}),document.querySelectorAll(".navbar-nav a").forEach(e=>{e.addEventListener("click",()=>{t.classList.remove("show")})}))}function setupChangingText(){let e=["Welcome To TypeBlitz"],t=document.getElementById("changing-text");if(!t)return;let n=0;setInterval(()=>{let r=getGreeting();t.textContent=`${r}, ${e[n]}`,n=(n+1)%e.length},5200)}function setupPopupAndScroll(){let e=document.getElementById("popup"),t=document.getElementById("closePopup"),n=document.getElementById("scrollBtn");e&&t&&(setTimeout(()=>{e.style.display="block"},8e3),t.addEventListener("click",()=>{e.style.display="none"})),n&&(document.addEventListener("contextmenu",e=>{e.preventDefault()}),window.addEventListener("scroll",()=>{console.log("Scroll event detected. ScrollY:",window.scrollY),n.style.display=window.scrollY>.2*window.innerHeight?"block":"none",n.classList.toggle("up",window.scrollY+window.innerHeight>=document.body.scrollHeight)}),n.addEventListener("click",()=>{window.scrollTo({top:n.classList.contains("up")?0:document.body.scrollHeight,behavior:"smooth"})}))}function registerServiceWorker(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then(e=>{e.update(),e.onupdatefound=()=>{let t=e.installing;t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller&&window.location.reload()}},console.log("Service worker registered with scope:",e.scope)}).catch(e=>{console.error("Service worker registration failed:",e)})})}function disableF12Key(){document.addEventListener("keydown",e=>{123===e.keyCode&&e.preventDefault()})}function setupPreloader(){window.addEventListener("load",()=>{let e=document.querySelector(".preloader");e&&(e.style.display="none")})}document.addEventListener("DOMContentLoaded",()=>{setBackgroundImage(),setupNavbarToggle(),setupChangingText(),setupPopupAndScroll(),registerServiceWorker(),disableF12Key(),setupPreloader(),window.addEventListener("resize",setBackgroundImage)});